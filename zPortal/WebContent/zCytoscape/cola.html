<!DOCTYPE>

<html>

<head>
<title>cytoscape-cola.js demo</title>

<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1, maximum-scale=1">

<script src="./libs/jquery-1.11.3.min.js"></script>
<script src="./libs/cytoscape.min.js"></script>

<script src="./libs/cola.v3.min.js"></script>
<script src="./libs/cytoscape-cola.js"></script>

<style>
body {
	font-family: helvetica;
	font-size: 14px;
}

#cy {
	width: 100%;
	height: 100%;
	position: absolute;
	left: 0;
	top: 0;
	z-index: 999;
}

h1 {
	opacity: 0.5;
	font-size: 1em;
}
</style>

<script>
	$(function() {
		url = "visualization/cytoscape1.do";
		$.ajax({

			url : "/portal/" + url,
			type : "GET",
			data : {},
			dataType : 'json',
			beforeSend : function() {
			},
			success : function(data) {

				var elementStr = data;

				//document.write(elementStr);

				var cy = window.cy = cytoscape({
					container : document.getElementById('cy'),

					layout : {
						name : 'cola'
					},

					style : [ {
						selector : 'node',
						css : {
							'content' : 'data(name)'
						}
					},

					{
						selector : 'edge',
						css : {
							'target-arrow-shape' : 'triangle'
						}
					} ],

					elements : jQuery.parseJSON(elementStr),
				// 				elements: {
				// 					nodes: [
				// 						{ data: { id: 'j', name: 'Jerry' } },
				// 						{ data: { id: 'e', name: 'Elaine' } },
				// 						{ data: { id: 'k', name: 'Kramer' } },
				// 						{ data: { id: 'g', name: 'George' } }
				// 					],
				// 					edges: [
				// 						{ data: { source: 'j', target: 'e' } },
				// 						{ data: { source: 'j', target: 'k' } },
				// 						{ data: { source: 'j', target: 'g' } },
				// 						{ data: { source: 'e', target: 'j' } },
				// 						{ data: { source: 'e', target: 'k' } },
				// 						{ data: { source: 'k', target: 'j' } },
				// 						{ data: { source: 'k', target: 'e' } },
				// 						{ data: { source: 'k', target: 'g' } },
				// 						{ data: { source: 'g', target: 'j' } }
				// 					]
				// 				},
				});
			},
			error : function(request, status, error) {
				alert("code:" + request.status + "\n" + "message:" + request.responseText + "\n" + "error:" + error);
			}

		});
	});
</script>
</head>

<body>
	<div id="cy"></div>
</body>

</html>
